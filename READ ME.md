# SNP - steam nicknames parser
Приложение для асинхронно парсинга страниц пользователей по никнейму.

## Алгоритм работы:
- Запуск приложения
- Валидация введенных данных
- Запуск парсера
  - Получение cookie session_id
  - Получение пользователей и страниц для парсинга
  - Создание асинхронных задач для парсинга страниц
  - Получение картоек профилей
  - Создание задач для асинхронного парсинга пользователей
  - Парсинг данных пользователя:
      - Получение локации и имени пользователя
      - Получение описание пользователя
      - Получение ников пользователя
- Формирование xlsx отчета

## Usage
  - Python 3.11 >=
  - `pip install -r .\requirements.txt`
  - `python .\app\main.py`
    
## Config
Файлы по настроке приложения, находятся в папке `.\app\configs\`

### parser_config.ini
### `[parser]` - настройки парсинга

`retry_attempt` - количество повторений, если сервер отклонил запрос

`sliced_by` - количество асинхронного парсинга страниц в асинхронной задаче

### `[cookies]` - необходимые куки для парсинга

`session_id` - название куки хранящее id сессии
___
### `[urls]` - ссылки для получения информации пользователей


`search_base_url` - базовая ссылка для получения пользователей на странице поиска

`nicknames_base_url` - базовая ссылка для получения никнеймов пользователя. в плейсхолдер передается id/profiles пользователя

___
### `[json_fields]` 
___
поля для `[urls].search_base_url`

`html` - поле хранящее html с карточками пользователей

`result_count` - поле хранящее количества найденых ников
___

поля для `[urls].nicknames_base_url`

`nickname` = поле хранящее ник в истории ников
___

### `[selectors]` - селекторы для парсинга html

`user_boxes` - карточка пользователя на странице поиска

`user_a_tag` - ссылка на профиль пользователя в карточке пользователя

`user_description` - описание в профиле пользователя

### snp_config.ini
### `[excel_fields]` - названия хедров столбцов в excel отчете с данными пользоватей

`url` - столбец с ссылкой на профиль пользователя

`description` - столбец с описанием пользователя

`location` - столбец с страной, городом пользователя

`name` - столбец с именем пользователя

`nickname` - столбцы с никнеймами. в плейсхолдере хранятся числа от 1 до 10

